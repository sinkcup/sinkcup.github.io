<svg id="drawing" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="1391.9375" height="1044.1925048828125" viewBox="48.065345764160156 57.18750762939453 1391.9375 1044.1925048828125"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1020" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1021" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1035" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1036" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1065" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1066" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1072" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1073" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1080" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="15.23606797749979" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1081" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,14.23606797749979,7.79807270958975)"></path></marker><marker id="SvgjsMarker1082" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1083" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1096" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1097" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1103" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1104" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker></defs><g id="SvgjsG1007"><path id="SvgjsPath1008" d="M48.065345764160156 57.18750762939453H1440.0028076171875V1101.3800048828125H48.065345764160156V57.18750762939453Z " fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1009"><g id="SvgjsG1010" transform="translate(1161.0028533935547 305.09375381469727)" opacity="1"><path id="SvgjsPath1011" d="M0 0L259 0L259 100.09375L0 100.09375Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1012" transform="matrix(1 0 0 1 10 16.296876907348633)" fill="#ffffff"><text id="SvgjsText1013" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="16.359375">第三方Authorization server</text><text id="SvgjsText1014" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="38.859375">第三方Resource server</text><text id="SvgjsText1015" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="61.359375">(google/facebook/qq)</text></g></g><g id="SvgjsG1016" transform="translate(573.0028533935547 279.18750762939453)" opacity="1"><path id="SvgjsPath1017" d="M23.33333396911621 12.5C23.33333396911621 -4.166666507720947 46.66666793823242 -4.166666507720947 46.66666793823242 12.5C46.66666793823242 29.16666603088379 23.33333396911621 29.16666603088379 23.33333396911621 12.5M35 25L35 75M35 75L5.833333492279053 100M35 75L64.16666412353516 100M0 50L70 50 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path></g><g id="SvgjsG1018"><path id="SvgjsPath1019" d="M643.0028686523438 329.1875L902.0028686523438 329.1875L902.0028686523438 355.140625L1145.766845703125 355.140625 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1020)"></path><g id="SvgjsG1022" transform="matrix(1 0 0 1 902.0028533935547 312.04603518697036)" fill="#ffffff"><path id="SvgjsPath1023" d="M0 0H463.3593444824219V42.5H0V0Z " fill="#ffffff" transform="translate(-231.67967224121094 0)"></path><text id="SvgjsText1024" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">3、用户选择google登录，携带example的app key发起请求。</text><text id="SvgjsText1025" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">看到登录授权页，用户同意</text></g></g><g id="SvgjsG1026" transform="translate(925.0028533935547 223.73438453674316)" opacity="1"><path id="SvgjsPath1027" d="M0 0L214 0L230 16L230 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1028" d="M214 0L214 16L230 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1029" d="M0 0L214 0L230 16L230 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1030" transform="matrix(1 0 0 1 10 21.453123092651367)" fill="#ffffff"><text id="SvgjsText1031" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="105" y="16.359375">隐藏模式（Implicit）</text><text id="SvgjsText1032" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="105" y="38.859375">只要app key，无需secret</text></g></g><g id="SvgjsG1033"><path id="SvgjsPath1034" d="M1162.035400390625 403.16253662109375L805.2009887695312 403.16253662109375L805.2009887695312 730.2783813476562L463.6025390625 730.2783813476562 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1035)"></path><g id="SvgjsG1037" transform="matrix(1 0 0 1 805.2009614398175 536.6024305682969)" fill="#ffffff"><path id="SvgjsPath1038" d="M0 0H345.93743896484375V42.5H0V0Z " fill="#ffffff" transform="translate(-172.96871948242188 0)"></path><text id="SvgjsText1039" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">4、callback返回第三方access token</text><text id="SvgjsText1040" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">省略之后若干步骤，比如SDK自动复制token</text></g></g><g id="SvgjsG1041" transform="translate(206.0028533935547 187.73438453674316)" opacity="1"><path id="SvgjsPath1042" d="M0 0L500 0L516 16L516 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1043" d="M500 0L500 16L516 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1044" d="M0 0L500 0L516 16L516 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1045" transform="matrix(1 0 0 1 10 10.203123092651367)" fill="#ffffff"><text id="SvgjsText1046" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="248" y="16.359375">第三方的client（JS、Android、iOS app），放置1个登录按钮</text><text id="SvgjsText1047" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="248" y="38.859375">（example家的），集成1个sdk（example家的），</text><text id="SvgjsText1048" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="248" y="61.359375">配置文件中只有1个app key（example家的），没有secret</text></g></g><g id="SvgjsG1049" transform="translate(499.0028533935547 77.18750762939453)" opacity="1"><path id="SvgjsPath1050" d="M0 0L484 0L500 16L500 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1051" d="M484 0L484 16L500 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1052" d="M0 0L484 0L500 16L500 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1053" transform="matrix(1 0 0 1 10 10.25)" fill="#ffffff"><text id="SvgjsText1054" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="240" y="16.359375">纯API架构使用双重OAuth——第三方app</text><text id="SvgjsText1055" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="240" y="38.859375">（特点：app只有1个登录按钮，集成1个sdk，只能拿到1个e</text><text id="SvgjsText1056" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="240" y="61.359375">xample家的token，拿不到google token）</text></g></g><g id="SvgjsG1057" transform="translate(154.0028533935547 694.5511379241943)" opacity="1"><path id="SvgjsPath1058" d="M0 0L295 0L295 154.90908813476562L0 154.90908813476562Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1059" transform="matrix(1 0 0 1 10 43.70454120635986)" fill="#ffffff"><text id="SvgjsText1060" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="16.359375">example家的Authorization server</text><text id="SvgjsText1061" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="38.859375">example家的Resource server</text><text id="SvgjsText1062" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="45"></text></g></g><g id="SvgjsG1063"><path id="SvgjsPath1064" d="M448.1703186035156 696.7329711914062L608.0028686523438 696.7329711914062L608.0028686523438 394.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1065)"></path><g id="SvgjsG1067" transform="matrix(1 0 0 1 608.0028533935547 614.2445249263606)" fill="#ffffff"><path id="SvgjsPath1068" d="M0 0H98.984375V20H0V0Z " fill="#ffffff" transform="translate(-49.4921875 0)"></path><text id="SvgjsText1069" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">2、登录界面</text></g></g><g id="SvgjsG1070"><path id="SvgjsPath1071" d="M573.0028686523438 329.1875L301.50286865234375 329.1875L301.50286865234375 679.3150634765625 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1072)"></path><g id="SvgjsG1074" transform="matrix(1 0 0 1 301.5028533935547 346.0012887880445)" fill="#ffffff"><path id="SvgjsPath1075" d="M0 0H466.8750305175781V42.5H0V0Z " fill="#ffffff" transform="translate(-233.43751525878906 0)"></path><text id="SvgjsText1076" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">1、携带example家的app key，唤起example的app或页面，</text><text id="SvgjsText1077" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">抵达登录界面，看到多家的登录按钮（google/facebook/qq）</text></g></g><g id="SvgjsG1078"><path id="SvgjsPath1079" d="M301.50286865234375 864.6962890625C301.50286865234375 1081.3800048828125 1200.366455078125 925.2783813476562 650.6746826171875 389.19989013671875 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1080)" marker-end="url(#SvgjsMarker1082)"></path><g id="SvgjsG1084" transform="matrix(1 0 0 1 682.2231927559958 897.9839279546192)" fill="#ffffff"><path id="SvgjsPath1085" d="M0 0H430.875V20H0V0Z " fill="#ffffff" transform="translate(-215.4375 0)"></path><text id="SvgjsText1086" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">7、client携带example家的token调用API，返回各种数据</text></g></g><g id="SvgjsG1087" transform="translate(76.00285339355469 424.18750762939453)" opacity="1"><path id="SvgjsPath1088" d="M0 0L397 0L413 16L413 124L0 124L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1089" d="M397 0L397 16L413 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1090" d="M0 0L397 0L413 16L413 124L0 124L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1091" transform="matrix(1 0 0 1 10 39.5)" fill="#ffffff"><text id="SvgjsText1092" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="16.359375">隐藏模式（Implicit）</text><text id="SvgjsText1093" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="38.859375">只要app key，无需secret</text></g></g><g id="SvgjsG1094"><path id="SvgjsPath1095" d="M449.00286865234375 772.0056762695312L1290.5028076171875 772.0056762695312L1290.5028076171875 420.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1096)"></path><g id="SvgjsG1098" transform="matrix(1 0 0 1 1045.5439051553847 760.7556791305542)" fill="#ffffff"><path id="SvgjsPath1099" d="M0 0H156.4530792236328V20H0V0Z " fill="#ffffff" transform="translate(-78.2265396118164 0)"></path><text id="SvgjsText1100" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">5、校验google token</text></g></g><g id="SvgjsG1101"><path id="SvgjsPath1102" d="M448.3664855957031 812.2783813476562L672.3665161132812 812.2783813476562L672.3665161132812 345.27838134765625L657.6025390625 345.27838134765625 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1103)"></path><g id="SvgjsG1105" transform="matrix(1 0 0 1 672.3664855957031 672.1464305951952)" fill="#ffffff"><path id="SvgjsPath1106" d="M0 0H214.3905792236328V20H0V0Z " fill="#ffffff" transform="translate(-107.1952896118164 0)"></path><text id="SvgjsText1107" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">6、example家的access token</text></g></g></g></g></svg>