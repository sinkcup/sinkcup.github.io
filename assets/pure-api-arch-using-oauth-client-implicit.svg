<svg id="drawing" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="1163.4766845703125" height="781.727294921875" viewBox="53.52629089355469 53.18750762939453 1163.4766845703125 781.727294921875"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1020" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1021" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1035" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1036" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1065" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1066" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1072" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1073" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1079" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="15.23606797749979" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1080" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,14.23606797749979,7.79807270958975)"></path></marker><marker id="SvgjsMarker1081" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1082" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1088" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1089" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker></defs><g id="SvgjsG1007"><path id="SvgjsPath1008" d="M53.52629089355469 53.18750762939453H1217.0029296875V834.914794921875H53.52629089355469V53.18750762939453Z " fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1009"><g id="SvgjsG1010" transform="translate(938.0028533935547 307.09375381469727)" opacity="1"><path id="SvgjsPath1011" d="M0 0L259 0L259 100.09375L0 100.09375Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1012" transform="matrix(1 0 0 1 10 16.296876907348633)" fill="#ffffff"><text id="SvgjsText1013" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="16.359375">第三方Resource server</text><text id="SvgjsText1014" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="38.859375">第三方Authorization server</text><text id="SvgjsText1015" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="61.359375">(google/facebook/qq)</text></g></g><g id="SvgjsG1016" transform="translate(198.0028533935547 278.18750762939453)" opacity="1"><path id="SvgjsPath1017" d="M23.33333396911621 12.5C23.33333396911621 -4.166666507720947 46.66666793823242 -4.166666507720947 46.66666793823242 12.5C46.66666793823242 29.16666603088379 23.33333396911621 29.16666603088379 23.33333396911621 12.5M35 25L35 75M35 75L5.833333492279053 100M35 75L64.16666412353516 100M0 50L70 50 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path></g><g id="SvgjsG1018"><path id="SvgjsPath1019" d="M268.00286865234375 328.1875L603.0028686523438 328.1875L603.0028686523438 357.140625L922.7667846679688 357.140625 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1020)"></path><g id="SvgjsG1022" transform="matrix(1 0 0 1 603.0028533935547 312.5460351869703)" fill="#ffffff"><path id="SvgjsPath1023" d="M0 0H416.40625V42.5H0V0Z " fill="#ffffff" transform="translate(-208.203125 0)"></path><text id="SvgjsText1024" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">……省略之前若干步骤，比如携带app key发起请求。</text><text id="SvgjsText1025" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">1、用户同意授权</text></g></g><g id="SvgjsG1026" transform="translate(529.0028533935547 182.73438453674316)" opacity="1"><path id="SvgjsPath1027" d="M0 0L214 0L230 16L230 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1028" d="M214 0L214 16L230 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1029" d="M0 0L214 0L230 16L230 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1030" transform="matrix(1 0 0 1 10 21.453123092651367)" fill="#ffffff"><text id="SvgjsText1031" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="105" y="16.359375">隐藏模式（Implicit）</text><text id="SvgjsText1032" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="105" y="38.859375">只要app key，无需secret</text></g></g><g id="SvgjsG1033"><path id="SvgjsPath1034" d="M939.0354614257812 405.16253662109375L263.00286865234375 405.16253662109375L263.00286865234375 392.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1035)"></path><g id="SvgjsG1037" transform="matrix(1 0 0 1 594.6496668883665 382.6625325076481)" fill="#ffffff"><path id="SvgjsPath1038" d="M0 0H381.9375305175781V42.5H0V0Z " fill="#ffffff" transform="translate(-190.96876525878906 0)"></path><text id="SvgjsText1039" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">2、返回第三方access token</text><text id="SvgjsText1040" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">……省略之后若干步骤，比如SDK自动复制token</text></g></g><g id="SvgjsG1041" transform="translate(111.00285339355469 182.73438453674316)" opacity="1"><path id="SvgjsPath1042" d="M0 0L304 0L320 16L320 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1043" d="M304 0L304 16L320 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1044" d="M0 0L304 0L320 16L320 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1045" transform="matrix(1 0 0 1 10 21.453123092651367)" fill="#ffffff"><text id="SvgjsText1046" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150" y="16.359375">client（JS、Android、iOS app）</text><text id="SvgjsText1047" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150" y="38.859375">配置文件中只有app key，没有secret</text></g></g><g id="SvgjsG1048" transform="translate(388.0028533935547 73.18750762939453)" opacity="1"><path id="SvgjsPath1049" d="M0 0L248 0L264 16L264 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1050" d="M248 0L248 16L264 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1051" d="M0 0L248 0L264 16L264 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1052" transform="matrix(1 0 0 1 10 21.5)" fill="#ffffff"><text id="SvgjsText1053" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="122" y="16.359375">纯API架构使用OAuth client Im</text><text id="SvgjsText1054" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="122" y="38.859375">plicit（即第三方登录）</text></g></g><g id="SvgjsG1055" transform="translate(126.00285339355469 696.9147720336914)" opacity="1"><path id="SvgjsPath1056" d="M0 0L315 0L315 118L0 118Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1057" transform="matrix(1 0 0 1 10 2.75)" fill="#ffffff"><text id="SvgjsText1058" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="147.5" y="16.359375">自家的HTTP API（自己的web serve</text><text id="SvgjsText1059" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="147.5" y="38.859375">r）</text><text id="SvgjsText1060" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="147.5" y="61.359375">验证第三方token，绑定到本站用户（</text><text id="SvgjsText1061" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="147.5" y="83.859375">自动注册，无需密码），生成本站se</text><text id="SvgjsText1062" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="147.5" y="106.359375">ssion</text></g></g><g id="SvgjsG1063"><path id="SvgjsPath1064" d="M439.1261291503906 697.48779296875L439.1261291503906 537.837646484375L233.0028533935547 537.837646484375L233.0028533935547 393.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1065)"></path><g id="SvgjsG1067" transform="matrix(1 0 0 1 343.6825232454818 526.5876360700688)" fill="#ffffff"><path id="SvgjsPath1068" d="M0 0H150.96873474121094V20H0V0Z " fill="#ffffff" transform="translate(-75.48436737060547 0)"></path><text id="SvgjsText1069" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">5、返回本站session</text></g></g><g id="SvgjsG1070"><path id="SvgjsPath1071" d="M198.0028533935547 328.1875L152.0028533935547 328.1875L152.0028533935547 666.914794921875L283.50286865234375 666.914794921875L283.50286865234375 681.6787109375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1072)"></path><g id="SvgjsG1074" transform="matrix(1 0 0 1 152.0028533935547 536.4331058427931)" fill="#ffffff"><path id="SvgjsPath1075" d="M0 0H156.953125V20H0V0Z " fill="#ffffff" transform="translate(-78.4765625 0)"></path><text id="SvgjsText1076" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">3、发送第三方token</text></g></g><g id="SvgjsG1077"><path id="SvgjsPath1078" d="M456.2389221191406 755.914794921875C607.9566040039062 755.914794921875 938.0028686523438 611.914794921875 279.1561279296875 382.5711364746094 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1079)" marker-end="url(#SvgjsMarker1081)"></path><g id="SvgjsG1083" transform="matrix(1 0 0 1 671.659177544754 643.9968167392186)" fill="#ffffff"><path id="SvgjsPath1084" d="M0 0H345.9219055175781V20H0V0Z " fill="#ffffff" transform="translate(-172.96095275878906 0)"></path><text id="SvgjsText1085" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">6、client携带session调用API，返回各种数据</text></g></g><g id="SvgjsG1086"><path id="SvgjsPath1087" d="M441.00286865234375 755.914794921875L1067.5028076171875 755.914794921875L1067.5028076171875 422.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1088)"></path><g id="SvgjsG1090" transform="matrix(1 0 0 1 920.9984516069533 744.6647720336914)" fill="#ffffff"><path id="SvgjsPath1091" d="M0 0H156.953125V20H0V0Z " fill="#ffffff" transform="translate(-78.4765625 0)"></path><text id="SvgjsText1092" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">4、校验第三方token</text></g></g></g></g></svg>