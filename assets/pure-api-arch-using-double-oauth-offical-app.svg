<svg id="drawing" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="1384.0001220703125" height="917.9090576171875" viewBox="56.00285339355469 54.18750762939453 1384.0001220703125 917.9090576171875"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1020" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1021" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1035" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1036" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1068" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1069" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1075" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1076" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1082" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="15.23606797749979" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1083" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,14.23606797749979,7.79807270958975)"></path></marker><marker id="SvgjsMarker1084" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1085" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1101" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1102" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker></defs><g id="SvgjsG1007"><path id="SvgjsPath1008" d="M56.00285339355469 54.18750762939453H1440.0029296875V972.0965576171875H56.00285339355469V54.18750762939453Z " fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1009"><g id="SvgjsG1010" transform="translate(1161.0028533935547 305.09375381469727)" opacity="1"><path id="SvgjsPath1011" d="M0 0L259 0L259 100.09375L0 100.09375Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1012" transform="matrix(1 0 0 1 10 16.296876907348633)" fill="#ffffff"><text id="SvgjsText1013" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="16.359375">第三方Resource server</text><text id="SvgjsText1014" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="38.859375">第三方Authorization server</text><text id="SvgjsText1015" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="119.5" y="61.359375">(google/facebook/qq)</text></g></g><g id="SvgjsG1016" transform="translate(573.0028533935547 279.18750762939453)" opacity="1"><path id="SvgjsPath1017" d="M23.33333396911621 12.5C23.33333396911621 -4.166666507720947 46.66666793823242 -4.166666507720947 46.66666793823242 12.5C46.66666793823242 29.16666603088379 23.33333396911621 29.16666603088379 23.33333396911621 12.5M35 25L35 75M35 75L5.833333492279053 100M35 75L64.16666412353516 100M0 50L70 50 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path></g><g id="SvgjsG1018"><path id="SvgjsPath1019" d="M643.0028686523438 329.1875L902.0028686523438 329.1875L902.0028686523438 355.140625L1145.766845703125 355.140625 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1020)"></path><g id="SvgjsG1022" transform="matrix(1 0 0 1 902.0028533935547 312.04603518697036)" fill="#ffffff"><path id="SvgjsPath1023" d="M0 0H483.3906555175781V42.5H0V0Z " fill="#ffffff" transform="translate(-241.69532775878906 0)"></path><text id="SvgjsText1024" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">……省略之前若干步骤，比如携带google的app key发起请求。</text><text id="SvgjsText1025" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">1、用户同意授权</text></g></g><g id="SvgjsG1026" transform="translate(844.0028533935547 187.73438453674316)" opacity="1"><path id="SvgjsPath1027" d="M0 0L214 0L230 16L230 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1028" d="M214 0L214 16L230 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1029" d="M0 0L214 0L230 16L230 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1030" transform="matrix(1 0 0 1 10 21.453123092651367)" fill="#ffffff"><text id="SvgjsText1031" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="105" y="16.359375">隐藏模式（Implicit）</text><text id="SvgjsText1032" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="105" y="38.859375">只要app key，无需secret</text></g></g><g id="SvgjsG1033"><path id="SvgjsPath1034" d="M1162.035400390625 403.16253662109375L638.0028686523438 403.16253662109375L638.0028686523438 393.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1035)"></path><g id="SvgjsG1037" transform="matrix(1 0 0 1 895.1496668883665 380.6625325076481)" fill="#ffffff"><path id="SvgjsPath1038" d="M0 0H381.9374694824219V42.5H0V0Z " fill="#ffffff" transform="translate(-190.96873474121094 0)"></path><text id="SvgjsText1039" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">2、返回第三方access token</text><text id="SvgjsText1040" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">……省略之后若干步骤，比如SDK自动复制token</text></g></g><g id="SvgjsG1041" transform="translate(190.0028533935547 169.55113792419434)" opacity="1"><path id="SvgjsPath1042" d="M0 0L516 0L532 16L532 106.08949279785156L0 106.08949279785156L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1043" d="M516 0L516 16L532 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1044" d="M0 0L516 0L532 16L532 106.08949279785156L0 106.08949279785156L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1045" transform="matrix(1 0 0 1 10 8.044746398925781)" fill="#ffffff"><text id="SvgjsText1046" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="256" y="16.359375">example家的client（JS、Android、iOS app），直接放置多家登</text><text id="SvgjsText1047" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="256" y="38.859375">录按钮（google/fackbook/qq），集成多家sdk，</text><text id="SvgjsText1048" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="256" y="61.359375">配置文件中有至少两个app key（google的和example家的），没</text><text id="SvgjsText1049" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="256" y="83.859375">有secret</text></g></g><g id="SvgjsG1050" transform="translate(531.0028533935547 74.18750762939453)" opacity="1"><path id="SvgjsPath1051" d="M0 0L466 0L482 16L482 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1052" d="M466 0L466 16L482 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1053" d="M0 0L466 0L482 16L482 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1054" transform="matrix(1 0 0 1 10 10.25)" fill="#ffffff"><text id="SvgjsText1055" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="231" y="16.359375">纯API架构使用双重OAuth——自家app</text><text id="SvgjsText1056" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="231" y="38.859375">（特点：app只有多个登录按钮，集成多个sdk，能拿到多</text><text id="SvgjsText1057" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="231" y="61.359375">个token）</text></g></g><g id="SvgjsG1058" transform="translate(154.0028533935547 694.5511379241943)" opacity="1"><path id="SvgjsPath1059" d="M0 0L295 0L295 154.90908813476562L0 154.90908813476562Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1060" transform="matrix(1 0 0 1 10 21.204541206359863)" fill="#ffffff"><text id="SvgjsText1061" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="16.359375">example家的Resource server</text><text id="SvgjsText1062" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="38.859375">example家的Authorization server</text><text id="SvgjsText1063" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="61.359375">验证第三方token，绑定到本站用户</text><text id="SvgjsText1064" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="83.859375">（自动注册，无需密码），生成本</text><text id="SvgjsText1065" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="137.5" y="106.359375">站token</text></g></g><g id="SvgjsG1066"><path id="SvgjsPath1067" d="M449.00286865234375 772.0056762695312L608.0028686523438 772.0056762695312L608.0028686523438 394.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1068)"></path><g id="SvgjsG1070" transform="matrix(1 0 0 1 608.0028533935547 651.4646273687242)" fill="#ffffff"><path id="SvgjsPath1071" d="M0 0H199.921875V20H0V0Z " fill="#ffffff" transform="translate(-99.9609375 0)"></path><text id="SvgjsText1072" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">5、返回example家的token</text></g></g><g id="SvgjsG1073"><path id="SvgjsPath1074" d="M573.0028686523438 329.1875L301.50286865234375 329.1875L301.50286865234375 679.3150634765625 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1075)"></path><g id="SvgjsG1077" transform="matrix(1 0 0 1 301.5028533935547 357.2512887880445)" fill="#ffffff"><path id="SvgjsPath1078" d="M0 0H364.375V20H0V0Z " fill="#ffffff" transform="translate(-182.1875 0)"></path><text id="SvgjsText1079" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">3、携带example家的app key，发送第三方token</text></g></g><g id="SvgjsG1080"><path id="SvgjsPath1081" d="M460.6978454589844 781.7711791992188C602.1846923828125 899.914794921875 1231.1846923828125 952.0965576171875 650.7045288085938 389.1691589355469 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1082)" marker-end="url(#SvgjsMarker1084)"></path><g id="SvgjsG1086" transform="matrix(1 0 0 1 826.4387960376592 829.6217987814002)" fill="#ffffff"><path id="SvgjsPath1087" d="M0 0H430.8749084472656V20H0V0Z " fill="#ffffff" transform="translate(-215.4374542236328 0)"></path><text id="SvgjsText1088" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">6、client携带example家的token调用API，返回各种数据</text></g></g><g id="SvgjsG1089" transform="translate(76.00285339355469 424.18750762939453)" opacity="1"><path id="SvgjsPath1090" d="M0 0L397 0L413 16L413 124L0 124L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1091" d="M397 0L397 16L413 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1092" d="M0 0L397 0L413 16L413 124L0 124L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1093" transform="matrix(1 0 0 1 10 5.75)" fill="#ffffff"><text id="SvgjsText1094" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="16.359375">密码模式（Password）</text><text id="SvgjsText1095" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="38.859375">只要app key，无需secret。</text><text id="SvgjsText1096" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="61.359375">由于OAuth 2.0没有双重模式，所以这里只能使用</text><text id="SvgjsText1097" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="83.859375">密码模式。把token当密码传过来，其实本站是无</text><text id="SvgjsText1098" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="196.5" y="106.359375">密码的。</text></g></g><g id="SvgjsG1099"><path id="SvgjsPath1100" d="M448.746826171875 696.2686767578125L1290.5028076171875 696.2686767578125L1290.5028076171875 420.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1101)"></path><g id="SvgjsG1103" transform="matrix(1 0 0 1 1007.5473782626938 685.0186635957127)" fill="#ffffff"><path id="SvgjsPath1104" d="M0 0H156.45318603515625V20H0V0Z " fill="#ffffff" transform="translate(-78.22659301757812 0)"></path><text id="SvgjsText1105" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">4、校验google token</text></g></g></g></g></svg>