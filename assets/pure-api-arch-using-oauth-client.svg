<svg id="drawing" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="1293.4609375" height="879.0908813476562" viewBox="43.541908264160156 53.18750762939453 1293.4609375 879.0908813476562"><defs id="SvgjsDefs1001"><marker id="SvgjsMarker1021" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1022" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1036" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1037" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1069" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1070" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1076" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1077" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1083" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="15.23606797749979" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1084" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,14.23606797749979,7.79807270958975)"></path></marker><marker id="SvgjsMarker1085" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1086" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker><marker id="SvgjsMarker1092" markerWidth="16.23606797749979" markerHeight="10.550836550532098" refX="-1" refY="3.8990363547948754" viewBox="-1 -1.3763819204711738 16.23606797749979 10.550836550532098" orient="auto" markerUnits="userSpaceOnUse"><path id="SvgjsPath1093" d="M12 3.899036407470703L0 7.798072814941406V0Z " stroke="#323232" stroke-width="2" fill="#323232" transform="matrix(1,0,0,1,0,0)"></path></marker></defs><g id="SvgjsG1007"><path id="SvgjsPath1008" d="M43.541908264160156 53.18750762939453H1337.0028076171875V932.2783813476562H43.541908264160156V53.18750762939453Z " fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1009"><g id="SvgjsG1010" transform="translate(938.0028533935547 307.09375381469727)" opacity="1"><path id="SvgjsPath1011" d="M0 0L379 0L379 105.63919830322266L0 105.63919830322266Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1012" transform="matrix(1 0 0 1 10 7.8196001052856445)" fill="#ffffff"><text id="SvgjsText1013" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="179.5" y="16.359375">第三方Resource server</text><text id="SvgjsText1014" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="179.5" y="38.859375">第三方Authorization server</text><text id="SvgjsText1015" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="179.5" y="61.359375">(google/facebook/qq 返回 access token)</text><text id="SvgjsText1016" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="179.5" y="83.859375">(github/微信 返回 code)</text></g></g><g id="SvgjsG1017" transform="translate(198.0028533935547 278.18750762939453)" opacity="1"><path id="SvgjsPath1018" d="M23.33333396911621 12.5C23.33333396911621 -4.166666507720947 46.66666793823242 -4.166666507720947 46.66666793823242 12.5C46.66666793823242 29.16666603088379 23.33333396911621 29.16666603088379 23.33333396911621 12.5M35 25L35 75M35 75L5.833333492279053 100M35 75L64.16666412353516 100M0 50L70 50 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path></g><g id="SvgjsG1019"><path id="SvgjsPath1020" d="M268.00286865234375 328.1875L603.0028686523438 328.1875L603.0028686523438 359.9133605957031L922.7667846679688 359.9133605957031 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1021)"></path><g id="SvgjsG1023" transform="matrix(1 0 0 1 603.0028533935547 313.9323967859388)" fill="#ffffff"><path id="SvgjsPath1024" d="M0 0H416.40625V42.5H0V0Z " fill="#ffffff" transform="translate(-208.203125 0)"></path><text id="SvgjsText1025" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">……省略之前若干步骤，比如携带app key发起请求。</text><text id="SvgjsText1026" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">1、用户同意授权</text></g></g><g id="SvgjsG1027" transform="translate(511.0028533935547 182.73438453674316)" opacity="1"><path id="SvgjsPath1028" d="M0 0L319 0L335 16L335 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1029" d="M319 0L319 16L335 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1030" d="M0 0L319 0L335 16L335 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1031" transform="matrix(1 0 0 1 10 21.453123092651367)" fill="#ffffff"><text id="SvgjsText1032" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="157.5" y="16.359375">隐藏模式（Implicit）</text><text id="SvgjsText1033" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="157.5" y="38.859375">或授权码模式（Authorization Code）</text></g></g><g id="SvgjsG1034"><path id="SvgjsPath1035" d="M939.5138549804688 410.5957946777344L263.00286865234375 410.5957946777344L263.00286865234375 392.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1036)"></path><g id="SvgjsG1038" transform="matrix(1 0 0 1 592.1722466780295 388.0957901748287)" fill="#ffffff"><path id="SvgjsPath1039" d="M0 0H259.390625V42.5H0V0Z " fill="#ffffff" transform="translate(-129.6953125 0)"></path><text id="SvgjsText1040" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">2、返回第三方access token或code</text><text id="SvgjsText1041" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="38.859375">……省略之后若干步骤</text></g></g><g id="SvgjsG1042" transform="translate(111.00285339355469 182.73438453674316)" opacity="1"><path id="SvgjsPath1043" d="M0 0L304 0L320 16L320 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1044" d="M304 0L304 16L320 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1045" d="M0 0L304 0L320 16L320 87.90625L0 87.90625L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1046" transform="matrix(1 0 0 1 10 10.203123092651367)" fill="#ffffff"><text id="SvgjsText1047" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150" y="16.359375">自家的client（JS、Android、iOS app</text><text id="SvgjsText1048" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150" y="38.859375">）</text><text id="SvgjsText1049" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150" y="61.359375">配置文件中只有app key，没有secret</text></g></g><g id="SvgjsG1050" transform="translate(388.0028533935547 73.18750762939453)" opacity="1"><path id="SvgjsPath1051" d="M0 0L248 0L264 16L264 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1052" d="M248 0L248 16L264 16 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><path id="SvgjsPath1053" d="M0 0L248 0L264 16L264 88L0 88L0 0Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" opacity="1"></path><g id="SvgjsG1054" transform="matrix(1 0 0 1 10 21.5)" fill="#ffffff"><text id="SvgjsText1055" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="122" y="16.359375">纯API架构使用OAuth client（</text><text id="SvgjsText1056" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="122" y="38.859375">即第三方登录）</text></g></g><g id="SvgjsG1057" transform="translate(126.00285339355469 696.9147720336914)" opacity="1"><path id="SvgjsPath1058" d="M0 0L321 0L321 215.36361694335938L0 215.36361694335938Z " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="#ffffff" opacity="1"></path><g id="SvgjsG1059" transform="matrix(1 0 0 1 10 28.931812286376953)" fill="#ffffff"><text id="SvgjsText1060" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="16.359375">自家的HTTP API（自己的web server</text><text id="SvgjsText1061" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="38.859375">）</text><text id="SvgjsText1062" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="61.359375">验证第三方token。</text><text id="SvgjsText1063" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="83.859375">保存着secret，用于授权码模式（Aut</text><text id="SvgjsText1064" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="106.359375">horization Code）换取token。</text><text id="SvgjsText1065" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="128.859375">绑定到本站用户（自动注册，无需密码</text><text id="SvgjsText1066" font-family="微软雅黑,黑体,Arial,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="150.5" y="151.359375">），生成本站session。</text></g></g><g id="SvgjsG1067"><path id="SvgjsPath1068" d="M445.09039306640625 697.9605712890625L445.09039306640625 538.0740356445312L233.0028533935547 538.0740356445312L233.0028533935547 393.423583984375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1069)"></path><g id="SvgjsG1071" transform="matrix(1 0 0 1 346.6646496428756 526.8240285464192)" fill="#ffffff"><path id="SvgjsPath1072" d="M0 0H150.96873474121094V20H0V0Z " fill="#ffffff" transform="translate(-75.48436737060547 0)"></path><text id="SvgjsText1073" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">5、返回本站session</text></g></g><g id="SvgjsG1074"><path id="SvgjsPath1075" d="M198.0028533935547 328.1875L168.0028533935547 328.1875L168.0028533935547 666.914794921875L286.50286865234375 666.914794921875L286.50286865234375 681.6787109375 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1076)"></path><g id="SvgjsG1078" transform="matrix(1 0 0 1 168.0028533935547 537.9331058427931)" fill="#ffffff"><path id="SvgjsPath1079" d="M0 0H208.92189025878906V20H0V0Z " fill="#ffffff" transform="translate(-104.46094512939453 0)"></path><text id="SvgjsText1080" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">3、发送第三方token或code</text></g></g><g id="SvgjsG1081"><path id="SvgjsPath1082" d="M462.2389221191406 804.5965576171875C632.7201538085938 804.5965576171875 902.0028686523438 572.0965576171875 279.3390808105469 382.0108337402344 " stroke-dasharray="none" stroke="#323232" stroke-width="2" fill="none" marker-start="url(#SvgjsMarker1083)" marker-end="url(#SvgjsMarker1085)"></path><g id="SvgjsG1087" transform="matrix(1 0 0 1 668.2183819979251 653.3358671291168)" fill="#ffffff"><path id="SvgjsPath1088" d="M0 0H345.9218444824219V20H0V0Z " fill="#ffffff" transform="translate(-172.96092224121094 0)"></path><text id="SvgjsText1089" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">6、client携带session调用API，返回各种数据</text></g></g><g id="SvgjsG1090"><path id="SvgjsPath1091" d="M447.00286865234375 804.5965576171875L1127.5028076171875 804.5965576171875L1127.5028076171875 427.9690246582031 " stroke-dasharray="10 4" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1092)"></path><g id="SvgjsG1094" transform="matrix(1 0 0 1 975.5666345522047 793.3465843200684)" fill="#ffffff"><path id="SvgjsPath1095" d="M0 0H598.84375V20H0V0Z " fill="#ffffff" transform="translate(-299.421875 0)"></path><text id="SvgjsText1096" font-family="Microsoft Yahei,宋体" fill="#000000" font-size="18" font-weight="normal" font-style="normal" text-anchor="middle" text-decoration="blink" x="0" y="16.359375">4、校验第三方token返回用户信息，或携带secret换回token，再获取用户信息</text></g></g></g></g></svg>